{"version":3,"sources":["./src/app/modules/year/year.module.ts","./src/app/modules/year/year-main/year-main.component.ts","./src/app/modules/year/year-main/year-main.component.html"],"names":[],"mappings":"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","file":"modules-year-year-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\n// comlists\nimport { YearMainComponent } from './year-main/year-main.component';\n\n// other\nimport { Role } from \"@enum/app_enum\";\nimport { AuthGuardService } from \"@core/guards/auth-guard.service\";\nimport { BasicComponentsModule } from \"@basic-components/basic-components.module\";\n\nconst routes: Routes = [\n  {\n    path: 'management',\n    component: YearMainComponent,\n    canActivate: [AuthGuardService],\n    data: { roles: [Role.Admin,Role.StudentAffair] }\n  }\n];\n\n@NgModule({\n  declarations: [YearMainComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    BasicComponentsModule\n  ],\n  exports:[\n    YearMainComponent\n  ]\n})\nexport class YearModule { }\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { AdminSideMenu } from \"@enum/app_enum\";\nimport { YearService } from \"@core/services/serviceIndex\";\nimport { Subscription } from 'rxjs';\n@Component({\n  selector: 'app-year-main',\n  templateUrl: './year-main.component.html',\n  styleUrls: ['./year-main.component.css']\n})\nexport class YearMainComponent implements OnInit,OnDestroy {\n  public routeDirLists: any = {\n    routeName: [AdminSideMenu.Year],\n    routeLink: []\n  }\n  public yearLists: any = [];\n  public isCreate: boolean = false;\n  public yearName: String;\n  public activeIndex: any;\n  public isLoading: boolean = false;\n  public selectedYear: any;\n  public isEdit: boolean;\n  public isDelete: boolean;\n  public subscription: Subscription;\n\n  constructor(private _yser: YearService) { }\n\n  ngOnInit(): void {\n    this.isLoading = true;\n    this.getYearList();\n  }\n\n  getYearList() {\n    this.subscription = this._yser.getYearList().subscribe((res) => {\n      this.yearLists = res.years;\n      this.isLoading = false;\n    })\n  }\n  onCreate() {\n    this.isCreate = true;\n  }\n\n  inputYear(e: any) {\n    this.yearName = e.target.value;\n  }\n\n  cancel() {\n    this.isCreate = false;\n    this.yearName = \"\";\n    this.selectedYear = undefined;\n    this.isEdit = false;\n    this.isDelete = false;\n  }\n\n  createYear() {\n    console.log(this.yearName);\n    this.isLoading = true;\n    this.subscription=  this._yser.onCreateYear(this.yearName)\n      .subscribe(() => {\n        this.getYearList();\n        this.cancel();\n      });\n  }\n\n  onhover(index: any) {\n    this.activeIndex = index;\n  }\n\n  onleave() {\n    this.activeIndex = undefined;\n  }\n\n  onCallEdit(year: any) {\n    this.selectedYear = year;\n    this.yearName = year.name;\n    this.isEdit = true;\n  }\n\n  onCallDelete(year: any) {\n    this.selectedYear = year;\n    this.yearName = year.name;\n    this.isDelete = true;\n  }\n\n  onEditYear() {\n    this.isEdit = false;\n    this.subscription=  this._yser.onEditYear(this.yearName, this.selectedYear.yearId)\n      .subscribe(() => {\n        this.getYearList();\n      })\n  }\n\n  onDeleteYear() {\n    this.isDelete = false;\n    this.subscription=  this._yser.onDeleteYear(this.selectedYear.yearId)\n      .subscribe(() => {\n        this.getYearList();\n      })\n  }\n\n  ngOnDestroy(){\n    this.subscription.unsubscribe();\n  }\n}\n","<!-- <div class=\"overlay\" *ngIf=\"isCreate\"></div> -->\n<div class=\"d-flex justify-content-between mt-3\">\n    <app-route-direction [dirList]=\"routeDirLists\"></app-route-direction>\n</div>\n\n<div class=\"container h-100\">\n    <div class=\"col-md-8 mx-auto\">\n        <div class=\"row\">\n            <div class=\"col-md-4 p-0\" (click)=\"onCreate()\" *ngIf=\"!isCreate\">\n                <div class=\"create-box\">\n                    <div>\n                        <img src=\"assets/icons/create.svg\">\n                    </div>\n                    Create Year\n                </div>\n            </div>\n            <div class=\"col-md-4 p-0\" *ngIf=\"isCreate\">\n                <div class=\"d-flex flex-column create-view\">\n                    <input type=\"text\" (input)=\"inputYear($event)\" class=\"form-control\" placeholder=\"Enter year name\">\n                    <div class=\"d-flex justify-content-end mt-2\">\n                        <button class=\"btn btn-cancel mr-2\" (click)=\"cancel()\">Cancel</button>\n                        <button class=\"btn btn-create\" (click)=\"createYear()\">Create</button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-4 p-0\" *ngFor=\"let year of yearLists;let i=index;\" (mouseover)=\"onhover(i)\"\n                (mouseleave)=\"onleave()\">\n                <div class=\"create-box year\" [class.bg-overlay]=\"activeIndex==i\">\n                    {{year.name}}\n                </div>\n                <div class=\"year-hover\" *ngIf=\"activeIndex==i\">\n                    <div class=\"d-flex justify-content-end mt-2\">\n                        <button class=\"btn btn-edit mr-2\" (click)=\"onCallEdit(year)\">Edit</button>\n                        <button class=\"btn btn-delete\"  (click)=\"onCallDelete(year)\">Delete</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<app-custom-modal [modalSize]=\"'modal-sm'\" *ngIf=\"isEdit\">\n    <input type=\"text\" (input)=\"inputYear($event)\" class=\"form-control\" placeholder=\"Enter year name\"\n        value=\"{{yearName}}\">\n    <div class=\"d-flex justify-content-end mt-2\">\n        <button class=\"btn btn-cancel mr-2 btn-medium\" (click)=\"cancel()\">Cancel</button>\n        <button class=\"btn btn-edit btn-medium\" (click)=\"onEditYear()\">Edit</button>\n    </div>\n</app-custom-modal>\n\n<app-custom-modal [modalSize]=\"'modal-sm'\" *ngIf=\"isDelete\">\n    <p class=\"modal-title\">Delete</p>\n    <div class=\"modal-body\">\n        Are you sure to delete <span>{{selectedYear.name}}</span> ?\n      </div>\n      <div class=\"d-flex justify-content-end mt-2\">\n        <button class=\"btn btn-cancel mr-2 btn-medium\" (click)=\"cancel()\">Cancel</button>\n        <button class=\"btn btn-delete btn-medium\"  (click)=\"onDeleteYear()\">Delete</button>\n\n    </div>\n</app-custom-modal>"],"sourceRoot":"webpack:///"}