{"version":3,"sources":["webpack:///src/app/modules/year/year.module.ts","webpack:///src/app/modules/year/year-main/year-main.component.ts","webpack:///src/app/modules/year/year-main/year-main.component.html"],"names":["routes","path","component","canActivate","data","roles","Admin","StudentAffair","YearModule","forChild","declarations","imports","exports","YearMainComponent","_yser","routeDirLists","routeName","Year","routeLink","yearLists","isCreate","isLoading","getYearList","subscription","subscribe","res","years","e","yearName","target","value","selectedYear","undefined","isEdit","isDelete","console","log","onCreateYear","cancel","index","activeIndex","year","name","onEditYear","yearId","onDeleteYear","unsubscribe","selector","templateUrl","styleUrls"],"mappings":"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","file":"modules-year-year-module-es5.5366f57704dae9f298f7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\n// comlists\nimport { YearMainComponent } from './year-main/year-main.component';\n\n// other\nimport { Role } from \"@enum/app_enum\";\nimport { AuthGuardService } from \"@core/guards/auth-guard.service\";\nimport { BasicComponentsModule } from \"@basic-components/basic-components.module\";\n\nconst routes: Routes = [\n  {\n    path: 'management',\n    component: YearMainComponent,\n    canActivate: [AuthGuardService],\n    data: { roles: [Role.Admin,Role.StudentAffair] }\n  }\n];\n\n@NgModule({\n  declarations: [YearMainComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    BasicComponentsModule\n  ],\n  exports:[\n    YearMainComponent\n  ]\n})\nexport class YearModule { }\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { AdminSideMenu } from \"@enum/app_enum\";\nimport { YearService } from \"@core/services/serviceIndex\";\nimport { Subscription } from 'rxjs';\n@Component({\n  selector: 'app-year-main',\n  templateUrl: './year-main.component.html',\n  styleUrls: ['./year-main.component.css']\n})\nexport class YearMainComponent implements OnInit,OnDestroy {\n  public routeDirLists: any = {\n    routeName: [AdminSideMenu.Year],\n    routeLink: []\n  }\n  public yearLists: any = [];\n  public isCreate: boolean = false;\n  public yearName: String;\n  public activeIndex: any;\n  public isLoading: boolean = false;\n  public selectedYear: any;\n  public isEdit: boolean;\n  public isDelete: boolean;\n  public subscription: Subscription;\n\n  constructor(private _yser: YearService) { }\n\n  ngOnInit(): void {\n    this.isLoading = true;\n    this.getYearList();\n  }\n\n  getYearList() {\n    this.subscription = this._yser.getYearList().subscribe((res) => {\n      this.yearLists = res.years;\n      this.isLoading = false;\n    })\n  }\n  onCreate() {\n    this.isCreate = true;\n  }\n\n  inputYear(e: any) {\n    this.yearName = e.target.value;\n  }\n\n  cancel() {\n    this.isCreate = false;\n    this.yearName = \"\";\n    this.selectedYear = undefined;\n    this.isEdit = false;\n    this.isDelete = false;\n  }\n\n  createYear() {\n    console.log(this.yearName);\n    this.isLoading = true;\n    this.subscription=  this._yser.onCreateYear(this.yearName)\n      .subscribe(() => {\n        this.getYearList();\n        this.cancel();\n      });\n  }\n\n  onhover(index: any) {\n    this.activeIndex = index;\n  }\n\n  onleave() {\n    this.activeIndex = undefined;\n  }\n\n  onCallEdit(year: any) {\n    this.selectedYear = year;\n    this.yearName = year.name;\n    this.isEdit = true;\n  }\n\n  onCallDelete(year: any) {\n    this.selectedYear = year;\n    this.yearName = year.name;\n    this.isDelete = true;\n  }\n\n  onEditYear() {\n    this.isEdit = false;\n    this.subscription=  this._yser.onEditYear(this.yearName, this.selectedYear.yearId)\n      .subscribe(() => {\n        this.getYearList();\n      })\n  }\n\n  onDeleteYear() {\n    this.isDelete = false;\n    this.subscription=  this._yser.onDeleteYear(this.selectedYear.yearId)\n      .subscribe(() => {\n        this.getYearList();\n      })\n  }\n\n  ngOnDestroy(){\n    this.subscription.unsubscribe();\n  }\n}\n","<!-- <div class=\"overlay\" *ngIf=\"isCreate\"></div> -->\n<div class=\"d-flex justify-content-between mt-3\">\n    <app-route-direction [dirList]=\"routeDirLists\"></app-route-direction>\n</div>\n\n<div class=\"container h-100\">\n    <div class=\"col-md-8 mx-auto\">\n        <div class=\"row\">\n            <div class=\"col-md-4 p-0\" (click)=\"onCreate()\" *ngIf=\"!isCreate\">\n                <div class=\"create-box\">\n                    <div>\n                        <img src=\"assets/icons/create.svg\">\n                    </div>\n                    Create Year\n                </div>\n            </div>\n            <div class=\"col-md-4 p-0\" *ngIf=\"isCreate\">\n                <div class=\"d-flex flex-column create-view\">\n                    <input type=\"text\" (input)=\"inputYear($event)\" class=\"form-control\" placeholder=\"Enter year name\">\n                    <div class=\"d-flex justify-content-end mt-2\">\n                        <button class=\"btn btn-cancel mr-2\" (click)=\"cancel()\">Cancel</button>\n                        <button class=\"btn btn-create\" (click)=\"createYear()\">Create</button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-4 p-0\" *ngFor=\"let year of yearLists;let i=index;\" (mouseover)=\"onhover(i)\"\n                (mouseleave)=\"onleave()\">\n                <div class=\"create-box year\" [class.bg-overlay]=\"activeIndex==i\">\n                    {{year.name}}\n                </div>\n                <div class=\"year-hover\" *ngIf=\"activeIndex==i\">\n                    <div class=\"d-flex justify-content-end mt-2\">\n                        <button class=\"btn btn-edit mr-2\" (click)=\"onCallEdit(year)\">Edit</button>\n                        <button class=\"btn btn-delete\"  (click)=\"onCallDelete(year)\">Delete</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<app-custom-modal [modalSize]=\"'modal-sm'\" *ngIf=\"isEdit\">\n    <input type=\"text\" (input)=\"inputYear($event)\" class=\"form-control\" placeholder=\"Enter year name\"\n        value=\"{{yearName}}\">\n    <div class=\"d-flex justify-content-end mt-2\">\n        <button class=\"btn btn-cancel mr-2 btn-medium\" (click)=\"cancel()\">Cancel</button>\n        <button class=\"btn btn-edit btn-medium\" (click)=\"onEditYear()\">Edit</button>\n    </div>\n</app-custom-modal>\n\n<app-custom-modal [modalSize]=\"'modal-sm'\" *ngIf=\"isDelete\">\n    <p class=\"modal-title\">Delete</p>\n    <div class=\"modal-body\">\n        Are you sure to delete <span>{{selectedYear.name}}</span> ?\n      </div>\n      <div class=\"d-flex justify-content-end mt-2\">\n        <button class=\"btn btn-cancel mr-2 btn-medium\" (click)=\"cancel()\">Cancel</button>\n        <button class=\"btn btn-delete btn-medium\"  (click)=\"onDeleteYear()\">Delete</button>\n\n    </div>\n</app-custom-modal>"]}